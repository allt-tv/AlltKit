{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"public"},{"kind":"text","text":" "},{"kind":"keyword","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"observer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit\/EventServerObserver","preciseIdentifier":"s:7AlltKit19EventServerObserverP","text":"EventServerObserver"},{"kind":"text","text":"? = nil, "},{"kind":"externalParam","text":"webhookEnabled"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":" = false, "},{"kind":"externalParam","text":"deferAutoStart"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":" = false)"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"parameters","parameters":[{"name":"observer","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"an intial observer delegate (optional). Setting at this point allows for any errors encountered during setup to be caught."}]}]},{"name":"webhookEnabled","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"boolean flag to signal if the "},{"type":"codeVoice","code":"EventServer"},{"type":"text","text":" should also listen for "},{"type":"emphasis","inlineContent":[{"type":"text","text":"webhook"}]},{"type":"text","text":" payloads at "},{"type":"codeVoice","code":"<hostname>:<port>\/webhoook"},{"type":"text","text":". Defaults to "},{"type":"codeVoice","code":"false"},{"type":"text","text":"."}]}]},{"name":"deferAutoStart","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"boolean flag to allow for the initialization of the various sockets and HTTP servers to be deferred on start. Defaults to "},{"type":"codeVoice","code":"false"}]}]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"By default this will also setup and bind to the required sockets and start HTTP server listeners."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When "},{"type":"codeVoice","code":"isWebhookEnabled"},{"type":"text","text":" is "},{"type":"codeVoice","code":"true"},{"type":"text","text":" we create another HTTP server to listen to the "},{"type":"codeVoice","code":"\/webhook"},{"type":"text","text":" path, to which the Plex server webhooks "},{"type":"codeVoice","code":"POST"},{"type":"text","text":"."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The incoming multi-part JSON body is parsed for the event type, weâ€™re only interested in "},{"type":"codeVoice","code":"media.play"},{"type":"text","text":" and "},{"type":"codeVoice","code":"media.resume"},{"type":"text","text":" events."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The IMDb ID (or TVDb ID) is extracted and pushed to observers via the "},{"type":"codeVoice","code":"EventServerObserver"},{"type":"text","text":" protocol (if the IMBd ID is not a duplicate of the previous ID),"}]}]}]}]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/alltkit\/eventserver\/init(observer:webhookenabled:deferautostart:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit\/EventServer\/init(observer:webhookEnabled:deferAutoStart:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Initializes and returns a new "},{"type":"codeVoice","code":"EventServer"},{"type":"text","text":" used to vend  UPnP events to any interested subscribers on the local network."}],"kind":"symbol","metadata":{"fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"observer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"EventServerObserver","preciseIdentifier":"s:7AlltKit19EventServerObserverP"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"webhookEnabled"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"deferAutoStart"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":")"}],"title":"init(observer:webhookEnabled:deferAutoStart:)","roleHeading":"Initializer","role":"symbol","symbolKind":"init","externalID":"s:7AlltKit11EventServerC8observer14webhookEnabled14deferAutoStartAcA0cD8Observer_pSg_S2btcfc","modules":[{"name":"AlltKit"}]},"hierarchy":{"paths":[["doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit","doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit\/EventServer"]]},"references":{"doc://tv.allt.AlltKit/documentation/AlltKit/EventServerObserver":{"role":"symbol","title":"EventServerObserver","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EventServerObserver"}],"abstract":[],"identifier":"doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit\/EventServerObserver","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EventServerObserver"}],"url":"\/documentation\/alltkit\/eventserverobserver"},"doc://tv.allt.AlltKit/documentation/AlltKit":{"role":"collection","title":"AlltKit","abstract":[{"type":"text","text":"Enable the Allt experience within your own Apps.  AlltKit supports iOS and tvOS targets."}],"identifier":"doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit","kind":"symbol","type":"topic","url":"\/documentation\/alltkit"},"doc://tv.allt.AlltKit/documentation/AlltKit/EventServer":{"role":"symbol","title":"EventServer","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EventServer"}],"abstract":[],"identifier":"doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit\/EventServer","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EventServer"}],"url":"\/documentation\/alltkit\/eventserver"},"doc://tv.allt.AlltKit/documentation/AlltKit/EventServer/init(observer:webhookEnabled:deferAutoStart:)":{"role":"symbol","title":"init(observer:webhookEnabled:deferAutoStart:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"observer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"EventServerObserver","preciseIdentifier":"s:7AlltKit19EventServerObserverP"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"webhookEnabled"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"deferAutoStart"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initializes and returns a new "},{"type":"codeVoice","code":"EventServer"},{"type":"text","text":" used to vend  UPnP events to any interested subscribers on the local network."}],"identifier":"doc:\/\/tv.allt.AlltKit\/documentation\/AlltKit\/EventServer\/init(observer:webhookEnabled:deferAutoStart:)","kind":"symbol","type":"topic","url":"\/documentation\/alltkit\/eventserver\/init(observer:webhookenabled:deferautostart:)"}}}